(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-satisfaction-satisfaction"],{"1d3b":function(a,t,e){"use strict";e.r(t);var i=e("4456"),n=e.n(i);for(var s in i)"default"!==s&&function(a){e.d(t,a,(function(){return i[a]}))}(s);t["default"]=n.a},4456:function(a,t,e){"use strict";var i=e("ee27");e("4160"),e("26e9"),e("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=i(e("b7d3")),o=null,r={data:function(){return{year:2020,yue:1,array:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],index:0,ddData:0,serverData:"",chartData:{series:[{name:"服务总单量:50单",data:50,color:"#1C78F1"},{name:"投诉量:30单",data:30,color:"#E84846"}]},chartsdata:{categories:["2013","2014","2015","2016","2017","2018"],series:[{name:"服务总单量",data:[600,600,600,600,600,600,600],color:"#F5F5F5",textColor:"#fff"},{name:"服务总单量",data:[250,376,432,345,112,28],color:"#1C78F1"},{name:"投诉量",data:[30,50,13,250,43,10],color:"#E84846"}]},chartsdataH:{categories:["收运量","发电量","提油量"],series:[{name:"服务总单量",data:[600,600,600],color:"#F5F5F5",textColor:"#fff"},{name:"服务总单量",data:[250,376,432],color:"#1C78F1"}]}}},onLoad:function(){var a=this,t=new Date;a.year=t.getFullYear(),a.yue=t.getMonth(),a.index=t.getMonth(),n=this,this.getServerData()},methods:{bindPickerChange:function(a){console.log("picker发送选择改变，携带值为",a.target.value),this.index=a.target.value,this.yue=a.target.value,this.getServerData()},getServerData:function(){var a=this;a.$api.ajax("/api/Report/fanktongji","POST",{yue:a.yue+1+"",year:a.year+""},(function(t){var e=t.data.data;a.chartData={series:[{name:"服务总单量:"+e.khdingdannum.zongliang+"单",data:e.khdingdannum.zongliang,color:"#1C78F1"},{name:"投诉量:"+e.khdingdannum.toushuliang+"单",data:e.khdingdannum.toushuliang,color:"#E84846"}]},a.ddData=e.khdingdannum.manyidu,a.showRing("canvasRing",a.chartData);for(var i=[],n=0;n<7;n++)i.push(e.jinqitmydlist.number);a.chartsdata={categories:e.jinqitmydlist.listtime.reverse(),series:[{name:"服务总单量",data:i,color:"#F5F5F5",textColor:"#fff"},{name:"服务总单量",data:e.jinqitmydlist.qizong_count.reverse(),color:"#1C78F1"},{name:"投诉量",data:e.jinqitmydlist.qitousu_count.reverse(),color:"#E84846"}]},a.showColumn("canvasColumn",a.chartsdata);var s=[],o=[],r=[];e.yuelltj.forEach((function(a){1==a.type?(o.push("收运量"),s.push(a.zongedu),r.push(a.wanchengedu)):2==a.type?(o.push("发电量"),s.push(a.zongedu),r.push(a.wanchengedu)):3==a.type&&(o.push("提油量"),s.push(a.zongedu),r.push(a.wanchengedu))})),console.log(s),console.log(o),console.log(r),a.chartsdataH={categories:o,series:[{name:"服务总单量",data:s,color:"#F5F5F5"},{name:"服务总单量",data:r,color:"#1C78F1"}]},a.showColumnH("canvasColumnH",a.chartsdataH),console.log(e)}),(function(a){}))},showRing:function(a,t){var e=uni.upx2px(700),i=uni.upx2px(480);o=new s.default({$this:n,canvasId:a,type:"ring",fontSize:11,legend:{position:"bottom",fontSize:uni.upx2px(26),fontColor:"#9A9A9A"},title:{name:n.ddData+"%",color:"#141414",fontSize:uni.upx2px(72)},subtitle:{name:"满意率",color:"#9A9A9A",fontSize:uni.upx2px(26)},extra:{pie:{offsetAngle:-45,ringWidth:uni.upx2px(26),activeRadius:uni.upx2px(10),labelWidth:15}},background:"#FFFFFF",pixelRatio:1,series:t.series,animation:!0,width:e,height:i,disablePieStroke:!0,dataLabel:!1})},showColumn:function(a,t){var e=this,i=uni.upx2px(700),n=uni.upx2px(660);this.canvaColumn=new s.default({$this:e,canvasId:a,type:"column",legend:{show:!1},fontSize:11,background:"#FFFFFF",pixelRatio:1,animation:!0,categories:t.categories,series:t.series,xAxis:{disableGrid:!0,axisLine:!1},yAxis:{disableGrid:!0,data:[{axisLine:!1}]},dataLabel:!0,width:i,height:n,padding:[uni.upx2px(80),uni.upx2px(30),uni.upx2px(30),uni.upx2px(30)],extra:{tooltip:{bgColor:"#000000",bgOpacity:.7,gridType:"dash",dashLength:5,gridColor:"#1890ff",fontColor:"#FFFFFF",horizentalLine:!0,xAxisLabel:!0,yAxisLabel:!0,labelBgColor:"#DFE8FF",labelBgOpacity:.95,labelFontColor:"#666666"},column:{type:"meter",width:20,meter:{border:0,fillColor:"#F5F5F5"}}}})},showColumnH:function(a,t){var e=this,i=uni.upx2px(700),n=uni.upx2px(660);this.canvaColumn=new s.default({$this:e,canvasId:a,type:"column",legend:{show:!1},fontSize:11,background:"#FFFFFF",pixelRatio:1,animation:!0,categories:t.categories,series:t.series,xAxis:{disableGrid:!0,axisLine:!1},yAxis:{disabled:!0,disableGrid:!0,data:[{axisLine:!1}]},dataLabel:!0,width:i,height:n,padding:[uni.upx2px(80),uni.upx2px(30),uni.upx2px(30),uni.upx2px(30)],extra:{tooltip:{bgColor:"#000000",bgOpacity:.7,gridType:"dash",dashLength:5,gridColor:"#1890ff",fontColor:"#FFFFFF",horizentalLine:!0,xAxisLabel:!0,yAxisLabel:!0,labelBgColor:"#DFE8FF",labelBgOpacity:.95,labelFontColor:"#666666"},column:{type:"meter",width:20,meter:{border:0,fillColor:"#F5F5F5"}}}})},touchRing:function(a){o.showToolTip(a,{format:function(a){return a.name+":"+a.data}})}}};t.default=r},"669d":function(a,t,e){"use strict";var i,n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-uni-view",{staticClass:"satisfaction"},[e("v-uni-view",{staticClass:"seven"},[e("v-uni-view",{staticClass:"title"},[a._v("客户订单统计")]),e("v-uni-view",{staticClass:"ss"},[e("v-uni-canvas",{staticClass:"charts",attrs:{"canvas-id":"canvasRing",id:"canvasRing"},on:{touchstart:function(t){arguments[0]=t=a.$handleEvent(t),a.touchRing.apply(void 0,arguments)}}})],1)],1),e("v-uni-view",{staticClass:"seven"},[e("v-uni-view",{staticClass:"title"},[a._v("近7天满意度统计")]),e("v-uni-view",{staticClass:"ss"},[e("v-uni-canvas",{staticClass:"charts2",attrs:{"canvas-id":"canvasColumn",id:"canvasColumn"}})],1)],1),e("v-uni-view",{staticClass:"seven"},[e("v-uni-view",{staticClass:"yuedu"},[e("v-uni-view",{staticClass:"title"},[a._v("月度数据统计")]),e("v-uni-view",{staticClass:"yuefen"},[e("v-uni-picker",{staticClass:"picker",attrs:{value:a.index,range:a.array},on:{change:function(t){arguments[0]=t=a.$handleEvent(t),a.bindPickerChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"p-item"},[a._v(a._s(a.array[a.index]))])],1),e("v-uni-view",{staticClass:"san"})],1)],1),e("v-uni-view",{staticClass:"ss"},[e("v-uni-canvas",{staticClass:"charts2",attrs:{"canvas-id":"canvasColumnH",id:"canvasColumnH"}})],1)],1)],1)},s=[];e.d(t,"b",(function(){return n})),e.d(t,"c",(function(){return s})),e.d(t,"a",(function(){return i}))},7325:function(a,t,e){var i=e("24fb");t=i(!1),t.push([a.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-ac872c14]{background-color:#f5f5f5}.satisfaction[data-v-ac872c14]{padding:%?20?% %?25?%}.satisfaction .title[data-v-ac872c14]{color:#141414;font-size:%?42?%;font-weight:700;padding:%?45?% 0}.satisfaction .charts[data-v-ac872c14]{width:%?700?%;height:%?480?%;background-color:#fff}.satisfaction .charts2[data-v-ac872c14]{width:%?700?%;height:%?660?%;background-color:#fff}.satisfaction .yuedu[data-v-ac872c14]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?45?% 0}.satisfaction .yuedu .title[data-v-ac872c14]{padding:0}.satisfaction .yuedu .yuefen[data-v-ac872c14]{background-color:#fff;height:%?50?%;width:%?160?%;color:#131313;font-size:%?30?%;border-radius:%?25?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.satisfaction .yuedu .yuefen .san[data-v-ac872c14]{margin-left:%?10?%;width:0;height:0;border-left:%?10?% solid transparent;border-right:%?10?% solid transparent;border-top:%?8?% solid #000}body.?%PAGE?%[data-v-ac872c14]{background-color:#f5f5f5}',""]),a.exports=t},ca2e:function(a,t,e){var i=e("7325");"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var n=e("4f06").default;n("37b1ab40",i,!0,{sourceMap:!1,shadowMode:!1})},f039:function(a,t,e){"use strict";e.r(t);var i=e("669d"),n=e("1d3b");for(var s in n)"default"!==s&&function(a){e.d(t,a,(function(){return n[a]}))}(s);e("fdc1");var o,r=e("f0c5"),c=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"ac872c14",null,!1,i["a"],o);t["default"]=c.exports},fdc1:function(a,t,e){"use strict";var i=e("ca2e"),n=e.n(i);n.a}}]);